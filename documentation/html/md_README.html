<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>What the Duck server: Serveur TCP du projet What The Duck</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">What the Duck server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Serveur TCP du projet What The Duck </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Compiler les programmes</h2>
<p>Créez le dossier bin</p>
<p><code>mkdir bin</code></p>
<p>Le serveur se compile avec la commande suivante :</p>
<p><code>make server</code></p>
<h2>Tester le serveur TCP</h2>
<p>La commande suivante permet de tester le serveur :</p>
<p><code>telnet -r localhost 3333</code></p>
<h2>Utilisation de EPOLL</h2>
<p>La librairie système EPOLL (sur Linux) est utilisée pour offrir une gestion asynchrone des sockets. L'application demande à EPOLL de la notifiée des différents événents liés à certains descripteurs de fichiers (les sockets nottament). L'intêret dans notre application est d'avoir le thread principal qui est responsable de la gestion de l'ensemble des E/S (Connexion entrante, communication vers n clients, socket sortant pour les logs et l'interface graphique...). Lorsque que le thread principal à un travail lourd à éffectuer (autre que la gestion d'une E/S) il le délègue un thread provenant d'un pool de threads (avec une taille limité). L'idée, ici, n'est pas de viser les performances, mais de mettre en place un architecture autre que le simple un thread/client. L'architecture présentée ici a l'avantage de rassembler l'ensemble de la gestion des E/S à un même endroit ce qui abstrait le reste du programme de cette dernière (les sockets peuvent être remplacé par autre chose, ou un portage sur Windows serait plus évident).</p>
<h2>Utilisation d'un pool de thread</h2>
<p>Le système met aussi en place un thread de pool, l'interet de ce genre de mécanisme est d'avoir une gestion plus fine de nos threads, on peut ainsi aisément recycler des threads plutôt que de les détruire et les reconstruire (qui sont des instructions coûteuses). </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
